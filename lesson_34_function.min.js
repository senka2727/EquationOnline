"use strict";let button=document.querySelector("button"),x_1,x_2,D,a,b,c,answer=document.querySelector(".answer"),theme=document.querySelector(".theme"),switcher=document.querySelector(".switcher input"),body=document.querySelector(".calc");function Discriminant(a,b,c){let str="<p>";return str+="D = b * b - 4 * a * c = ",str+=b<0?`(${b}) * (${b}) `:`${b} * ${b} `,str+=a<0?`- 4 * (${a}) `:`- 4 * ${a} `,str+=c<0?`* (${c}) `:`* ${c} `,D=b*b-4*a*c,str+=`= ${D}</p>`,D<0?str+="<p>Квадратное уравнение не имеет решений</p>":0==D?(x_1=-b/(2*a),str+=`<p>Квадратное уравнение имеет единственное решение: x = ${x_1}</p>`):(x_1=(-b+Math.sqrt(D))/(2*a),x_2=(-b-Math.sqrt(D))/(2*a),str+=`<p>Квадратное уравнение имеет два решения:</p> <p> x<sub>1</sub> = ${x_1}</p> <p>x<sub>2</sub> = ${x_2}</p>`),str}function kvadratnoeYravnenieWithoutC(a,b){let str="<p>x(",yrav="",x=0;return a<0&&(yrav+="-"),1!=Math.abs(a)&&(yrav+=`${Math.abs(a)}x `),1!=a&&-1!=a||(yrav+="x "),yrav+=b<0?`- ${Math.abs(b)}`:`+ ${b}`,str+=`${yrav}) = 0</p><p>x = 0      или     ${yrav} = 0</p>`,str+="<p>x = ",str+=`${b=-b} : `,str+=a<0?`(${a})`:`${a}`,str+="</p>",x=a/b,str+=`<p>x = ${x}</p>`,str+=`<p>Квадратное уравнение имеет два решения:</p> <p> x<sub>1</sub> = 0</p> <p>x<sub>2</sub> = ${x}</p>`,str}function koren(a,c){let str="<p>",yrav="",x=0;return 1==a&&(str+="x<sup>2</sup> = "),-1==a&&(str+="-x<sup>2</sup> = "),(a>1||a<-1)&&(str+=`${a}x<sup>2</sup> = `),c>0?(str+=`-${c}`,yrav=`-${c}`,x=-c):(str+=`${-c}`,yrav=`${-c}`,x=-c),str+=`</p><p>x<sup>2</sup> = ${yrav} : `,str+=a>0?`${a}`:`(${a})`,x/=a,str+=`</p><p>x<sup>2</sup> = ${x}</p>`,str+=x<0?"<p>Квадратное уравнение не имеет решений</p>":`<p>Квадратное уравнение имеет два решения:</p> <p> x<sub>1</sub> = ${Math.sqrt(x)}</p> <p>x<sub>2</sub> = -${Math.sqrt(x)}</p>`,str}function defaultx(b,c){let str="<p>",yrav="";return 1==Math.abs(b)?(b<0&&(str+="-x = "),b>0&&(str+="x = ")):str+=`${b}x = `,c>0&&(str+=`-${c}`,yrav=-c),c<0&&(str+=`${-c}`,yrav=-c),str+=`</p><p>x = ${yrav} : `,b<0&&(str+=`(${b})`),b>0&&(str+=`${b}`),str+="</p>",yrav/=b,str+=`<p>Уравнение имеет одно решение:</p><p>x = ${yrav}</p>`,str}function changeStr(a,b,c){let str="<p>";return a<0&&(str+="-"),(a=Math.abs(a))>0&&1!=a&&(str+=`${a}x<sup>2</sup>`),1==a&&(str+="x<sup>2</sup>"),b<0&&(str+="-"),0!=a&&b>0&&(str+="+"),(b=Math.abs(b))>0&&1!=b&&(str+=`${b}x`),1==b&&(str+="x"),c<0&&(str+="-"),(0!=a||0!=b)&&c>0&&(str+="+"),(c=Math.abs(c))>0&&(str+=`${c}`),0==a&&0==b&&0==c&&(str+=`${c}`),str+="=0</p>",str}switcher.onclick=function(){document.body.classList.toggle("darktheme")},button.onclick=function(){a=document.querySelector(".equation input:nth-child(1)").value,b=document.querySelector(".equation input:nth-child(3)").value,c=document.querySelector(".equation input:nth-child(5)").value,console.log(a,b,c),console.log(answer),answer.innerHTML="<p>Решение:</p>",answer.innerHTML+=changeStr(a,b,c),0!=a&&0!=b&&0!=c&&(answer.innerHTML+=Discriminant(a,b,c)),0!=a&&0!=b&&0==c&&(answer.innerHTML+=kvadratnoeYravnenieWithoutC(a,b)),0!=a&&0==b&&(answer.innerHTML+=koren(a,c)),0==a&&0!=b&&(answer.innerHTML+=defaultx(b,c)),0==a&&0==b&&0!=c&&(answer.innerHTML+="<p>Квадратное уравнение не имеет решений</p>"),0==a&&0==b&&0==c&&(answer.innerHTML+="<p>Уравнение имеет бесконечное количество решений</p>")},document.querySelector("input:nth-child(1)").onkeydown=function(){this.style.width=`${25*(this.value.length+1)}px`},document.querySelector("input:nth-child(3)").onkeydown=function(){this.style.width=`${25*(this.value.length+1)}px`},document.querySelector("input:nth-child(5)").onkeydown=function(){this.style.width=`${25*(this.value.length+1)}px`};